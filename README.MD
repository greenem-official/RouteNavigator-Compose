# Конфигурация создания Docker контейнера для проекта "RouteNavigation"

В данном репозитории собран набор скриптов для управления контейнером данного приложения. Для каждого действия предусмотрены две версии скриптов:
- `.bat` (для Windows)
- `.sh` (для Linux/WSL)

Для корректной работы требуется иметь установленный в системе Docker или Docker Desktop.

## Исходный код используемых образов бэкенда и фронтенда:
https://github.com/greenem-official/RouteNavigator-Backend  
https://github.com/greenem-official/RouteNavigator-Frontend  

# Основные команды

## Создание контейнера
Для создания контейнера запустите соответствующий вашей системе скрипт:
```bash
./createContainer.{bat|sh}
```

## Удаление контейнера
Для удаления контейнера нужно запустить соответствующий скрипт
```bash
removeContainer.{bat|sh}
```

## Сброс контейнера
Для пересоздания контейнера нужно запустить соответствующий скрипт
```bash
resetContainer.{bat|sh}
```

## Сброс контейнера вместе с данными
Для пересоздания контейнера со СБРОСОМ ДАННЫХ нужно запустить соответствующий скрипт
```bash
resetContainerAndData.{bat|sh}
```

## Изменение параметров конфигурации
В каждом из сервисов есть участок `environment:`, который можно настроить по-своему.  

### PostgreSQL:
```yaml
environment:
  POSTGRES_USER: ИМЯ_ПОЛЬЗОВАТЕЛЯ
  POSTGRES_PASSWORD: "ПАРОЛЬ"
  POSTGRES_DB: БАЗА_ДАННЫХ
```

### Бэкенд:
```yaml
environment:
  SPRING_PROFILES_ACTIVE: postgresql ИЛИ sqlite
  DB_HOST: ХОСТ (НАЗВАНИЕ КОНТЕЙНЕРА) БАЗЫ ДАННЫХ
  DB_PORT: ПОРТ (ВНУТРЕННИЙ ПОРТ) БАЗЫ ДАННЫХ
  DB_NAME: БАЗА ДАННЫХ
  DB_USER: ИМЯ_ПОЛЬЗОВАТЕЛЯ
  DB_PASSWORD: ПАРОЛЬ
```

### Фронтенд:
```yaml
environment:
  VITE_APP_ENV: production
  VUE_APP_BACKEND_HOST: ХОСТ (НАЗВАНИЕ КОНТЕЙНЕРА) БЭКЕНДА
  VUE_APP_BACKEND_PORT: ПОРТ (ВНУТРЕННИЙ ПОРТ) БЭКЕНДА
```

## Работа с данными PostgreSQL

В папке postgres_data содержатся:

- SQL-скрипт с исходными (тестовыми) данными для PostgreSQL.

- Скрипты для сохранения текущей базы данных в файл.

**Рекомендация**: Перед использованием проверьте совпадение параметров базы данных с данными в скрипте.
